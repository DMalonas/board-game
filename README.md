Πανεπιστήμιο Ιωαννίνων – Τμήμα Μηχανικών Η/Υ και Πληροφορικής
Δομές Δεδομένων [MYY303] – Χειμερινό Εξάμηνο 2022
[1]
1η Εργαστηριακή Άσκηση
Δομές Εύρεσης-Ένωσης
Παράδοση έως Τετάρτη 26/10, 14:00 από το eCourse
ΠΡΟΣΟΧΗ: Γράψτε σε κάθε αρχείο που παραδίδετε τα ονόματα και τους Α.Μ. των
μελών της ομάδας σας. Συμπεριλάβετε όλα τα αρχεία σας (κώδικας Java και
lab1results.txt) σε ένα zip αρχείο το οποίο να έχει το όνομα ενός μέλους της
ομάδας σας με λατινικούς χαρακτήρες.
Ένα επιτραπέζιο παιχνίδι παίζεται σε μία σκακιέρα διαστάσεων 𝑛 × 𝑛, όπου κάθε
τετράγωνο έχει άσπρο ή μαύρο χρώμα. Δύο τετράγωνα (𝑖,𝑗) και (𝑘, 𝑙) είναι γειτονικά αν
έχουν μια κοινή οριζόντια ή κάθετη ακμή. Δηλαδή, το τετράγωνο (𝑖,𝑗) έχει το πολύ 4
γειτονικά τετράγωνα (𝑘, 𝑙) ∈ {(𝑖 − 1,𝑗), (𝑖,𝑗 − 1), (𝑖 + 1,𝑗), (𝑖,𝑗 + 1)} (για όσα ισχύει 0 ≤
𝑘 ≤ 𝑛 − 1 και 0 ≤ 𝑙 ≤ 𝑛 − 1). Ένα εφικτό μονοπάτι στη σκακιέρα αποτελείται από μια
ακολουθία τετραγώνων (𝑖1,𝑗1
), (𝑖2,𝑗2
), … , (𝑖𝑘,𝑗𝑘), όπου κάθε τετράγωνο (𝑖𝑎,𝑗𝑎), 1 ≤ 𝑎 ≤
𝑘, είναι μαύρο και το επόμενο τετράγωνο (𝑖𝑎+1,𝑗𝑎+1) είναι γειτονικό του (𝑖𝑎,𝑗𝑎). Για
παράδειγμα, στο παρακάτω σχήμα, η ακολουθία (0,0), (1,0), (1,1), (1,2), (2,2), (2,1)
αποτελεί ένα εφικτό μονοπάτι.
Αρχικά, όλα τα τετράγωνα είναι άσπρα και στην πορεία του παιχνιδιού κάποια γίνονται
μαύρα. Ένας παίκτης μπορεί να κινείται μόνο πάνω στα μαύρα τετράγωνα,
χρησιμοποιώντας εφικτά μονοπάτια. Μια συστάδα 𝐶 είναι ένα μεγιστοτικό σύνολο
μαύρων τετραγώνων, τέτοιο ώστε οποιαδήποτε δύο τετράγωνα του 𝐶 να συνδέονται με
κάποιο εφικτό μονοπάτι. Στο παραπάνω σχήμα, έχουμε 5 συστάδες, τις
{(0,0), (1,0), (1,1), (1,2), (2,1), (2,2), (2,3), (3,2)}, {(0,4), (0,5), (1,4)}, {(3,0), (4,0)},
{(5,1)} και {(3,4), (3,5), (4,5), (5,4), (5,5)}.
Δώστε μια αποδοτική υλοποίηση του παρακάτω παιχνιδιού χρησιμοποιώντας
κατάλληλες δομές δεδομένων για τη διατήρηση των τετραγώνων που συνδέονται με
εφικτά μονοπάτια. Συγκεκριμένα, θα πρέπει να υλοποιήσετε τις ακόλουθες μεθόδους:
void colorBlack(int 𝑖, int 𝑗) Χρωματίζει μαύρο το τετράγωνο (𝑖,𝑗). Αν το (𝑖,𝑗)
έχει γειτονικά μαύρα τετράγωνα, τότε υπολογίζει
τις νέες συστάδες της σκακιέρας.
boolean test(int 𝑖, int 𝑗, int 𝑘, int 𝑙) Επιστρέφει true αν τα τετράγωνα (𝑖,𝑗) και (𝑘, 𝑙)
συνδέονται με εφικτό μονοπάτι (δηλαδή ανήκουν
στην ίδια συστάδα). Διαφορετικά, επιστρέφει
false.
Πανεπιστήμιο Ιωαννίνων – Τμήμα Μηχανικών Η/Υ και Πληροφορικής
Δομές Δεδομένων [MYY303] – Χειμερινό Εξάμηνο 2022
[2]
int clusters() Επιστρέφει το πλήθος των συστάδων της
σκακιέρας.
Θα πρέπει να συμπληρώσετε τις παραπάνω μεθόδους στο αρχείο BoardGame.java.
Αναπαριστούμε τη σκακιέρα ως ένα διδιάστατο 𝑛 × 𝑛 πίνακα ακεραίων 𝐵, όπου 𝛣[𝑖,𝑗] =
0 αν το τετράγωνο (𝑖,𝑗) είναι άσπρο και 𝛣[𝑖,𝑗] = 1 αν το τετράγωνο (𝑖,𝑗) είναι μαύρο,
όπως φαίνεται στο παραπάνω σχήμα.
Για την αποδοτική υλοποίηση των μεθόδων, μπορείτε να χρησιμοποιήσετε μια δομή
εύρεσης-ένωσης, με στοιχεία τα μαύρα τετράγωνα της σκακιέρας. Μπορείτε να δώσετε
στο τετράγωνο (𝑖,𝑗) την ακέραιη ταυτότητα 𝑖 ∙ 𝑛 + 𝑗. Επίσης, παρατηρείστε ότι το
τετράγωνο με ακέραιη ταυτότητα 𝑣 είναι το (𝑣 div 𝑛, 𝑣 mod 𝑛), όπου 𝑣 div 𝑛 το πηλίκο
και 𝑣 mod 𝑛 το υπόλοιπο της ακέραιης διαίρεσης του 𝑣 με το 𝑛.
Δομή Γρήγορης Ένωσης με Σταθμισμένη Ένωση και Συμπίεση Διαδρομής
Συμπληρώσετε στο αρχείο UnionFind.java την υλοποίηση μιας αποδοτικής δομής
εύρεσης-ένωσης για το πολύ 𝛮 στοιχεία, τα οποία είναι οι ακέραιοι από το σύνολο
{0,1, … , 𝛮 − 1}. Η δομή σας θα πρέπει να χρησιμοποιεί σταθμισμένη γρήγορη ένωση και
συμπίεση διαδρομής, και να υποστηρίζει τις ακόλουθες μεθόδους:
UnionFind(int N) Μέθοδος κατασκευής (constructor) της δομής εύρεσηςένωσης. Αρχικοποιεί τη δομή για το πολύ 𝛮 στοιχεία, τα
οποία είναι οι ακέραιοι από το {0,1,2, … , 𝛮 − 1}. Αρχικά,
πριν δημιουργηθεί οποιοδήποτε σύνολο, έχουμε
𝑝𝑎𝑟𝑒𝑛𝑡[𝑣] = −1 και 𝑠𝑖𝑧𝑒[𝑣] = 0 για κάθε 0 ≤ 𝑣 < 𝑁.
void makeSet(int 𝑣) Δημιουργεί ένα μονοσύνολο {𝑣} για το στοιχείο 𝑣, με
αντιπρόσωπο τον εαυτό του. Δηλαδή, θέτει 𝑝𝑎𝑟𝑒𝑛𝑡[𝑣] = 𝑣
και 𝑠𝑖𝑧𝑒[𝑣] = 1.
int find(int 𝑣) Επιστρέφει τον αντιπρόσωπο (ρίζα) του συνόλου που
περιέχει το αντικείμενο 𝑣.
void unite(int 𝑣, int 𝑢) Αν τα αντικείμενα 𝑣 και 𝑢 βρίσκονται σε διαφορετικά
σύνολα τότε ενώνει τα δύο αυτά σύνολα.
int setCount() Επιστρέφει το πλήθος των συνόλων στη δομή.
Οι μέθοδοι UnionFind() και makeSet() σας δίνονται έτοιμες, και επομένως θα πρέπει να
υλοποιήσετε κατάλληλα τις υπόλοιπες μεθόδους.
Για τη σταθμισμένη ένωση πρέπει να λαμβάνετε υπόψη το μέγεθος κάθε συνόλου, Για το
σκοπό αυτό, χρησιμοποιούμε τον πίνακα size[] ο οποίος αποθηκεύει το πλήθος των
αντικειμένων ενός συνόλου ως εξής. Αν το στοιχείο 𝑣 είναι ο αντιπρόσωπος του συνόλου
του (δηλαδή ισχύει parent[𝑣] == 𝑣) τότε το σύνολο περιέχει size[𝑣] στοιχεία. Αν
ενώσουμε τα σύνολα με αντιπροσώπους 𝑝 και 𝑞 με size[𝑝] ≥ size[𝑞] τότε θα έχουμε
size[𝑝] = size[𝑝] + size[𝑞].
Το αποτέλεσμα της find(𝑣) με συμπίεση διαδρομής είναι η αλλαγή του γονέα parent[𝑢]
για όλα τα αντικείμενα 𝑢 που βρίσκονται στο μονοπάτι από το 𝑣 έως τη ρίζα του δένδρου
(τον αντιπρόσωπο του συνόλου) που περιέχει το 𝑣. Ο νέος γονέας αυτών των κόμβων
είναι ο αντιπρόσωπος του συνόλου.
Πανεπιστήμιο Ιωαννίνων – Τμήμα Μηχανικών Η/Υ και Πληροφορικής
Δομές Δεδομένων [MYY303] – Χειμερινό Εξάμηνο 2022
[3]
Η μέθοδος main() στο αρχείο UnionFind.java αρχικοποιεί μια δομή εύρεσης-ένωσης για
𝛮 = 16. Στη δημιουργεί μονοσύνολα για τα στοιχεία με άρτιο αριθμό, και τα ενώνει ανά
δύο μέχρι να σχηματιστεί ένα σύνολο {0,2,4,6,8,10,12,14}. Βεβαιωθείτε ότι η υλοποίησή
σας δουλεύει σωστά.
Εκτέλεση Προγραμμάτων
Η μέθοδος main() στο αρχείο BoardGame.java κατασκευάζει μια σκακιέρα 𝑛 × 𝑛
διαστάσεων, όπου αρχικά μόνο τα 4 γωνιακά τετράγωνα (0,0), (0, 𝑛 − 1), (𝑛 − 1,0) και
(𝑛 − 1, 𝑛 − 1) είναι μαύρα. Στη συνέχεια εκτελεί 𝑛
2 + 𝑛
4
/2 επαναλήψεις, όπου σε κάθε
επανάληψη επιλέγει ένα τυχαίο τετράγωνο που θα χρωματιστεί μαύρο (αν δεν είναι ήδη
μαύρο). Μόλις τερματίσει αυτή η διαδικασία, ελέγχει αν το τετράγωνο (0,0) συνδέεται με
εφικτό μονοπάτι με κάποιο από τα υπόλοιπα τρία γωνιακά τετράγωνο. Τέλος, τυπώνει
το πλήθος των μαύρων τετραγώνων και των συστάδων.
Εκτελέστε το πρόγραμμα BoardGame.java (αφού έχετε υλοποιήσει και το
UnionFind.java) για 𝑛 = 10, 20, 100, 1000 και 2000, και αποθηκεύστε τα αποτελέσματα
της εκτέλεσης του στο αρχείο lab1results.txt. Για να εκτελέσετε το BoardGame.java για
𝑛 = 10, δώστε στη γραμμή εντολών
java BoardGame 10
Ομοίως και για τις άλλες τιμές του 𝑛. Αποθηκεύστε τα αποτελέσματα της εκτέλεσης τους
στο αρχείο lab1results.txt.
Παραδοτέα
Ανεβάστε στο eCourse ένα zip αρχείο με τα τελικά σας προγράμματα BoardGame.java και
UnionFind.java, καθώς και με το αρχείο των αποτελεσμάτων lab1results.txt. Το zip
αρχείο πρέπει να έχει το όνομα ενός μέλους της ομάδας σας με λατινικούς χαρακτήρες
